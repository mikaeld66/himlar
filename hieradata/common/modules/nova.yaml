---
nova::verbose: true
nova::debug: true
nova::database_connection: "mysql://nova:nova_pass@%{hiera('service__address__mysql')}/nova"
nova::glance_api_servers: "%{hiera('service__address__glance_api')}:9292"
nova::rabbit_host: "%{hiera('service__address__rabbitmq')}"
nova::vncproxy::enabled: true

nova::db::mysql::password: nova_pass
nova::db::mysql::allowed_hosts:
  - 'localhost'
  - '%'

nova::keystone::auth::password: nova_pass
nova::keystone::auth::public_address: "%{hiera('service__address__nova_api')}"
nova::keystone::auth::admin_address: "%{hiera('service__address__nova_api')}"
nova::keystone::auth::internal_address: "%{hiera('service__address__nova_api')}"

nova::api::admin_password: nova_pass
nova::api::neutron_metadata_proxy_shared_secret: a_secret
nova::api::enabled: true
nova::api::auth_host: "%{hiera('service__address__keystone')}"
nova::api::api_bind_address: "%{hiera('mgmt_address')}"
nova::api::metadata_listen: "%{hiera('mgmt_address')}"

nova::scheduler::enabled: true

nova::conductor::enabled: true

nova::consoleauth::enabled: true

nova::network::neutron::neutron_admin_password: neutron_pass
nova::network::neutron::neutron_url: "http://%{hiera('service__address__neutron_server')}:9696"
nova::network::neutron::neutron_admin_auth_url: "http://%{hiera('service__address__keystone')}:35357/v2.0"

nova::compute::enabled: true
nova::compute::vnc_enable: true
nova::compute::vncserver_proxyclient_address: "%{hiera('mgmt_address')}"
nova::compute::vncproxy_host: "%{hiera('service__address__consoleproxy')}"
nova::compute::libvirt::vncserver_listen: "%{hiera('mgmt_address')}"
nova::compute::libvirt::disk_cachemodes: "network=writeback"
nova::compute::libvirt::libvirt_inject_password: false
nova::compute::libvirt::libvirt_inject_key: false
nova::compute::libvirt::libvirt_inject_partition: -2
nova::compute::rbd::libvirt_rbd_user: volumes
nova::compute::rbd::rbd_keyring: client.volumes
nova::compute::rbd::libvirt_rbd_secret_uuid: "%{hiera('libvirt__rbd_secret_uuid')}"
nova::compute::rbd::libvirt_images_rbd_pool: 'volumes'
